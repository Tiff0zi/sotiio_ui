<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<title>sotiio user story</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
    *, *::before, *::after { box-sizing: border-box; }

    html, body {
        margin: 0; padding: 0;
        height: 100%;
        background: #1a1a1a;  /* dark n8n theme */
        font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif;
        color: #e5e5e5;
    }

    /* ——————————————————————————  
       FULLSCREEN MODAL WRAPPER 
       —————————————————————————— */
    .wrap {
        position: fixed;
        inset: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        background: #111;      /* n8n dark panel */
        padding: 40px;
    }

    /* ГИГАНТИЧЕСКИЙ стиль */
    h1 {
        font-size: 56px;
        font-weight: 800;
        margin-bottom: 60px;
        letter-spacing: -1px;
        color: #fafafa;
        text-align: center;
    }

    /* поле ввода */
    .giant-input {
        width: 80%;
        font-size: 32px;
        padding: 28px 32px;
        border-radius: 16px;
        border: 1px solid #333;
        background: #1f1f1f;
        color: #fafafa;
        outline: none;
        transition: border 0.2s;
        text-align: center;
    }
    .giant-input:focus {
        border-color: #ff622b;
    }

    /* кнопка */
    .primary-btn {
        margin-top: 50px;
        font-size: 32px;
        padding: 26px 60px;
        background: #ff622b;
        color: #fff;
        border: none;
        border-radius: 16px;
        cursor: pointer;
        font-weight: 700;
        transition: background 0.2s;
    }
    .primary-btn:hover {
        background: #ff7847;
    }

    /* язык */
    .topbar {
        position: absolute;
        top: 24px;
        right: 24px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .lang-select {
        padding: 10px 14px;
        font-size: 18px;
        background: #222;
        border: 1px solid #444;
        border-radius: 8px;
        color: #eee;
    }

    /* скрытые старые блоки */
    .hidden {
        display: none !important;
    }
</style>
</head>

<body>

<div class="wrap">

    <!-- LANGUAGE SWITCH -->
    <div class="topbar">
        <select id="langSelect" class="lang-select">
            <option value="ru">Русский (ru)</option>
            <option value="en">English (en)</option>
            <option value="es">Español (es)</option>
            <option value="de">Deutsch (de)</option>
            <option value="fr">Français (fr)</option>
            <option value="pt">Português (pt)</option>
            <option value="it">Italiano (it)</option>
            <option value="uk">Українська (uk)</option>
            <option value="pl">Polski (pl)</option>
            <option value="tr">Türkçe (tr)</option>
            <option value="zh">中文 (zh)</option>
            <option value="ja">日本語 (ja)</option>
            <option value="ko">한국어 (ko)</option>
        </select>
    </div>

    <!-- TITLE -->
    <h1>Выбери вселенную для исследования</h1>

    <!-- ONLY ONE FIELD NOW -->
    <input id="subject" class="giant-input" placeholder="Например: Halo, Marvel, The Witcher, Dune..." />

    <!-- SEND -->
    <button id="submit" class="primary-btn">Отправить</button>

</div>


<script>
document.getElementById("submit").addEventListener("click", () => {
    const subject = document.getElementById("subject").value.trim();
    const lang = document.getElementById("langSelect").value;

    if (!subject) {
        alert("Укажи вселенную");
        return;
    }

    const payload = {
        source: "sotiio_web_survey",
        map_id: String(Date.now()),
        user_story: {
            "Want_to_discover_a_universe...": subject,
            timestamp: new Date().toISOString()
        },
        language_reply: lang
    };

    fetch("https://n8n.sotiio.com/webhook/us", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(payload)
    });

    alert("Запрос отправлен!");
});
</script>

</body>
</html>
